jQuery.cookie=function(b,j,n){if(typeof j!="undefined"){n=n||{};if(j===null){j="";n.expires=-1}var e="";if(n.expires&&(typeof n.expires=="number"||n.expires.toUTCString)){var f;if(typeof n.expires=="number"){f=new Date();f.setTime(f.getTime()+(n.expires*24*60*60*1000))}else{f=n.expires}e="; expires="+f.toUTCString()}var m=n.path?"; path="+(n.path):"";var g=n.domain?"; domain="+(n.domain):"";var a=n.secure?"; secure":"";document.cookie=[b,"=",encodeURIComponent(j),e,m,g,a].join("")}else{var d=null;if(document.cookie&&document.cookie!=""){var l=document.cookie.split(";");for(var h=0;h<l.length;h++){var c=jQuery.trim(l[h]);if(c.substring(0,b.length+1)==(b+"=")){d=decodeURIComponent(c.substring(b.length+1));break}}}return d}};jQuery.fn.realBgColor=function(){var a=this.css("backgroundColor");if(a=="transparent"||a==""){this.parents().each(function(b,e){var d=$(e).css("backgroundColor");a=(a=="transparent"||a=="")?d:a})}return a};jQuery.fn.cssHash=function(){var d={};var e=this.attr("style");if(e!=undefined&&e!=""){var a=e.split(";");for(key in a){var c=a[key].split(":");if(c[0]!=""){var b=this.css($.trim(c[0]));if(b!=undefined){d[$.trim(c[0])]=b}}}}return d};jQuery.fn.timerAnimate=function(i){try{var c=$(this).html();var h=/[0]*(\d{1,})(\D{1})[0]*(\d{1,})(\D{1})[0]*(\d{1,})|[0]*(\d{1,})(\D{1})[0]*(\d{1,})|[0]*(\d{1,})/;var b=h.exec(c);if(b instanceof Array){if(!jQuery.timerAnimateParams){jQuery.timerAnimateParams={}}var g=$(this).attr("id")?$(this).attr("id"):$(this).attr("id","timerAnimate"+(""+Math.random()).substr(2));if(jQuery.timerAnimateParams[g]){clearInterval(jQuery.timerAnimateParams[g].pointer)}var f=new Date();jQuery.timerAnimateParams[g]={};jQuery.timerAnimateParams[g].pattern=((b[2]||"")+(b[4]||"")+(b[7]||""));jQuery.timerAnimateParams[g].date=new Date(f.getTime()+1000*(3600*(b[1]||0)+60*(b[3]||b[6]||0)+1*(b[5]||b[8]||b[9]||0)));jQuery.timerAnimateParams[g].callback=i?i:"";jQuery.timerAnimateParams[g].pointer=setInterval(function(){var u=new Date();var j=Math.round((jQuery.timerAnimateParams[g].date-u.getTime())/1000);if(j<0){clearInterval(jQuery.timerAnimateParams[g].pointer);if(typeof(jQuery.timerAnimateParams[g].callback)=="function"){jQuery.timerAnimateParams[g].callback()}delete (jQuery.timerAnimateParams[g])}else{var o=Math.floor(j/3600);var e=Math.floor((j%3600)/60);var l=Math.floor((j%3600)%60);var q=jQuery.timerAnimateParams[g].pattern;switch(q.length){case 0:a=(j<10?"0":"")+j;break;case 1:var e=Math.floor(j/60);var l=Math.floor(j%60);var a=(e<10?"0":"")+e+q.charAt(0)+(l<10?"0":"")+l;break;case 2:var o=Math.floor(j/3600);var e=Math.floor((j%3600)/60);var l=Math.floor((j%3600)%60);var a=(o<10?"0":"")+o+q.charAt(0)+(e<10?"0":"")+e+q.charAt(1)+(l<10?"0":"")+l;break}var r=$("#"+g).html();r=r.replace(h,a);$("#"+g).html(r)}},1000)}}catch(d){alert("timerView:"+print_r(d))}};jQuery.scrollTopEx=function(b,a,c){c=(typeof(c)!="undefined")?c:20;a=(typeof(a)!="undefined")?a:20;clearInterval(window.scrollTimer);window.scrollTimer=setInterval("window.superScroll()",c);window.scrollStartPosition=$(document).scrollTop();window.scrollEndPosition=b;window.superScroll=function(){window.scrollStartPosition-=a;if(window.scrollStartPosition<window.scrollEndPosition){window.scrollStartPosition=window.scrollEndPosition;clearInterval(window.scrollTimer)}$(document).scrollTop(window.scrollStartPosition)}};jQuery.fn.clipboard=function(a){window.clipboardSourceFunction=a;if(window.clipboardData&&clipboardData.setData){$(this).click(function(){var b=$(this).attr("id");window.clipboardData.setData("Text",window.clipboardSourceFunction(b))})}else{if($("#clipboard").length==0){$("body").append("<object id='clipboard' style='outline:none;border:1;position: absolute;' height='1' width='1' data='"+base_url+"swf/copy_btn.swf' type='application/x-shockwave-flash'><param value='"+base_url+"swf/copy_btn.swf' name='movie'/><param value='high' name='quality'/><param value='false' name='menu'/><param value='transparent' name='wmode'/><param value='c_param=window.getClipboardSource&c_id=1&btn_img="+base_url+"img/cb.png' name='FlashVars'/></object>");$("#clipboard").mouseout(function(){$("#clipboard").height(1);$("#clipboard").width(1);$("#clipboard").css({top:0,left:0})})}$(this).mousemove(function(j){window.clipboardCurrentId=$(this).attr("id");var f=$(this).offset();var b=$(this).height();var i=$(this).width();var n=f.top;var q=f.left;var g=b;var o=i;var c=Math.min(g,o);var p=(c==g)?n:j.pageY-(c/2);var d=(c==o)?q:j.pageX-(c/2);p=(p+c)>(n+b)?(n+b-c):p;d=(d+c)>(q+i)?(q+i-c):d;p=(p<n)?n:p;d=(d<q)?q:d;$("#clipboard").height(c);$("#clipboard").width(c);$("#clipboard").css({top:p,left:d});$("#clipboard").show()});window.getClipboardSource=function(b){return window.clipboardSourceFunction(window.clipboardCurrentId)}}};var Base64={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(c){var a="";var l,h,f,j,g,e,d;var b=0;c=Base64._utf8_encode(c);while(b<c.length){l=c.charCodeAt(b++);h=c.charCodeAt(b++);f=c.charCodeAt(b++);j=l>>2;g=((l&3)<<4)|(h>>4);e=((h&15)<<2)|(f>>6);d=f&63;if(isNaN(h)){e=d=64}else{if(isNaN(f)){d=64}}a=a+this._keyStr.charAt(j)+this._keyStr.charAt(g)+this._keyStr.charAt(e)+this._keyStr.charAt(d)}return a},decode:function(c){var a="";var l,h,f;var j,g,e,d;var b=0;c=c.replace(/[^A-Za-z0-9\+\/\=]/g,"");while(b<c.length){j=this._keyStr.indexOf(c.charAt(b++));g=this._keyStr.indexOf(c.charAt(b++));e=this._keyStr.indexOf(c.charAt(b++));d=this._keyStr.indexOf(c.charAt(b++));l=(j<<2)|(g>>4);h=((g&15)<<4)|(e>>2);f=((e&3)<<6)|d;a=a+String.fromCharCode(l);if(e!=64){a=a+String.fromCharCode(h)}if(d!=64){a=a+String.fromCharCode(f)}}a=Base64._utf8_decode(a);return a},_utf8_encode:function(b){b=b.replace(/\r\n/g,"\n");var a="";for(var e=0;e<b.length;e++){var d=b.charCodeAt(e);if(d<128){a+=String.fromCharCode(d)}else{if((d>127)&&(d<2048)){a+=String.fromCharCode((d>>6)|192);a+=String.fromCharCode((d&63)|128)}else{a+=String.fromCharCode((d>>12)|224);a+=String.fromCharCode(((d>>6)&63)|128);a+=String.fromCharCode((d&63)|128)}}}return a},_utf8_decode:function(a){var b="";var d=0;var e=c1=c2=0;while(d<a.length){e=a.charCodeAt(d);if(e<128){b+=String.fromCharCode(e);d++}else{if((e>191)&&(e<224)){c2=a.charCodeAt(d+1);b+=String.fromCharCode(((e&31)<<6)|(c2&63));d+=2}else{c2=a.charCodeAt(d+1);c3=a.charCodeAt(d+2);b+=String.fromCharCode(((e&15)<<12)|((c2&63)<<6)|(c3&63));d+=3}}}return b}};Date.prototype.print=function(j){var b,e=this;var i=function(f,a){if((f=f+"").length<a){return new Array(++a-f.length).join("0")+f}else{return f}};var d=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];var c={1:"st",2:"nd",3:"rd",21:"st",22:"nd",23:"rd",31:"st"};var h=["","January","February","March","April","May","June","July","August","September","October","November","December"];var g={d:function(){return i(g.j(),2)},D:function(){t=g.l();return t.substr(0,3)},j:function(){return e.getDate()},l:function(){return d[g.w()]},N:function(){return g.w()+1},S:function(){return c[g.j()]?c[g.j()]:"th"},w:function(){return e.getDay()},z:function(){return(e-new Date(e.getFullYear()+"/1/1"))/86400000>>0},W:function(){var l=g.z(),f=364+g.L()-l;var m,n=(new Date(e.getFullYear()+"/1/1").getDay()||7)-1;if(f<=2&&((e.getDay()||7)-1)<=2-f){return 1}else{if(l<=2&&n>=4&&l>=(6-n)){m=new Date(e.getFullYear()-1+"/12/31");return this.date("W",Math.round(m.getTime()/1000))}else{return(1+(n<=3?((l+n)/7):(l-(7-n))/7)>>0)}}},F:function(){return h[g.n()]},m:function(){return i(g.n(),2)},M:function(){t=g.F();return t.substr(0,3)},n:function(){return e.getMonth()+1},t:function(){var a;if((a=e.getMonth()+1)==2){return 28+g.L()}else{if(a&1&&a<8||!(a&1)&&a>7){return 31}else{return 30}}},L:function(){var a=g.Y();return(!(a&3)&&(a%100||!(a%400)))?1:0},Y:function(){return e.getFullYear()},y:function(){return(e.getFullYear()+"").slice(2)},a:function(){return e.getHours()>11?"pm":"am"},A:function(){return g.a().toUpperCase()},B:function(){var l=(e.getTimezoneOffset()+60)*60;var a=(e.getHours()*3600)+(e.getMinutes()*60)+e.getSeconds()+l;var f=Math.floor(a/86.4);if(f>1000){f-=1000}if(f<0){f+=1000}if((String(f)).length==1){f="00"+f}if((String(f)).length==2){f="0"+f}return f},g:function(){return e.getHours()%12||12},G:function(){return e.getHours()},h:function(){return i(g.g(),2)},H:function(){return i(e.getHours(),2)},i:function(){return i(e.getMinutes(),2)},s:function(){return i(e.getSeconds(),2)},O:function(){var a=i(Math.abs(e.getTimezoneOffset()/60*100),4);if(e.getTimezoneOffset()>0){a="-"+a}else{a="+"+a}return a},P:function(){var a=g.O();return(a.substr(0,3)+":"+a.substr(3,2))},c:function(){return g.Y()+"-"+g.m()+"-"+g.d()+"T"+g.h()+":"+g.i()+":"+g.s()+g.P()},U:function(){return Math.round(e.getTime()/1000)}};return j.replace(/[\\]?([a-zA-Z])/g,function(a,f){if(a!=f){ret=f}else{if(g[f]){ret=g[f]()}else{ret=f}}return ret})};function compare_dates(d,c){var a=convert_date(d);var b=convert_date(c);if(a===false||b===false){return false}if(a>b){return false}return true}function convert_date(g,i){i=i?i:window.date_format;if(!check_date_format(i)){return false}var e={y:"1,4",m:"1,2",d:"1,2",s:i.charAt(1)};var d=i.toLowerCase().replace(new RegExp("["+e.s+"]{1}","g"),"");var a=new RegExp("^[0-9]{"+e[d.charAt(0)]+"}["+e.s+"]{1}[0-9]{"+e[d.charAt(1)]+"}["+e.s+"]{1}[0-9]{"+e[d.charAt(2)]+"}$");if(!a.test(g)){return false}var b=g.split(e.s);var h={y:parseInt(b[d.indexOf("y")],10),m:parseInt(b[d.indexOf("m")],10),d:parseInt(b[d.indexOf("d")],10)};h.y=h.y<100?h.y+2000:h.y;var c=new Date(h.y,h.m-1,h.d);if(c.getFullYear()!=h.y||c.getMonth()!=(h.m-1)||c.getDate()!=h.d){return false}return c}function trim(a){if(a==""||a=="undefined"||a==null||!a){return""}a=a.toString();return LTrim(RTrim(a))}function LTrim(b){b=b.toString();if(b==""||b=="undefined"||b==null||!b){return""}var a=/\s*((\S+\s*)*)/;return b.replace(a,"$1")}function RTrim(b){b=b.toString();if(b==""||b=="undefined"||b==null||!b){return""}var a=/((\s*\S+)*)\s*/;return b.replace(a,"$1")}function format_amount(a){a=a.toString().replace(/\$|\,/g,"");if(isNaN(a)){a="0"}sign=(a==(a=Math.abs(a)));a=Math.floor(a*100+0.50000000001);cents=a%100;a=Math.floor(a/100).toString();if(cents<10){cents="0"+cents}for(var b=0;b<Math.floor((a.length-(1+b))/3);b++){a=a.substring(0,a.length-(4*b+3))+a.substring(a.length-(4*b+3))}return(((sign)?"":"-")+""+a+"."+cents)}function Thread(b,a){this.fn=b;var c=this;this.timer=setInterval(function(){clearInterval(c.timer);c.fn();delete (c)},a?a:0)}function isset(a){return(typeof(a)!="undefined")}function print_r(a,g,b,d,c){b=b?b:6;d=d?d:"";c=c?"["+c+"]":typeof(a);g=g?true:false;var f=g?"\n":"<br>";var e=g?"":"<pre>";e+=c+" =>\n"+d+"{\n";for(key in a){if(typeof(a[key])=="object"){e+="\t"+d+print_r(a[key],true,b-1,d+"\t",key)}else{e+="\t"+d+"["+key+"] => ("+typeof(a[key])+")"+a[key]+",\n"}}e+=d+"}\n";e+=g?"":"</pre>";return e}function multiSelector(){this.add=function(b,c,d){if($("input#"+c).length!=0){var a=$("input#"+c).val();$("input#"+c).val("");c=a}d=(d!=undefined)?d:c;$("#"+b).html($("#"+b).html()+"\n<option value='"+c+"'>"+d+"</option>")};this.delSelected=function(a){$("#"+a).children(":selected").remove()};this.selectAll=function(a){$("#"+a).children().attr("selected",true)};this.validateAll=function(c,d,b,e){var a=FormValidator();a.add($("#"+c).attr("name"),d,b);this.selectAll;a.checkAll(e)};this.getSelItems=function(b,c){var a=new Array();$("#"+b).children(":selected").each(function(d,e){a.push($(e).val())});return c?a.join(c):a};this.getAllItems=function(b,c){var a=new Array();$("#"+b).children().each(function(d,e){a.push($(e).val())});return c?a.join(c):a}}function filterResize(a,b){if(!a.max_size){a.max_size=isset(b)?b:$(a).parent().height();a.min_size=$.browser.msie?20:10}if($(a).parent().find(".filter:visible").length>0){$(a).parent().height(a.max_size);$(a).parent().find(".filter").hide();$(a).parent().animate({height:a.min_size},"slow");if($(a).find("#toggle_arrow").length>0){$(a).find("#toggle_arrow").html("&nbsp;&#9658;")}}else{if($(a).find("#toggle_arrow").length>0){$(a).find("#toggle_arrow").html("&nbsp;&#9660;")}$(a).parent().animate({height:a.max_size},"slow",function(){$(a).parent().find(".filter").show()})}}function changeArrow(a,c,b){if($("#"+a).css("display")=="none"){$("#arrow_"+b).html("&#9658; "+c)}else{$("#arrow_"+b).html("&#9660; "+c)}}function messageFade(g,f,e,c){var d="mess";var b="box";var a="msg_";if(f){d="mess_err";b="box_err";var a="emsg_"}e=e?e:2000;$("."+d).find("div."+b).hide();$("."+d).find("div#"+a+g).show();$("."+d).fadeIn(e/2,function(){if(c===true){$("."+d).parent().height($("."+d).height())}});$("."+d).fadeOut(e/2,function(){$("."+d).find("div."+b).hide()})}window.global_highlight=true;function displayMessageEx(a,i,d){try{if((d==undefined&&window.global_highlight===true)||d===true){var d=true}var f="mess";var q="box";var r="msg_";if(i){f="mess_err";q="box_err";var r="emsg_"}if(!window.new_box_counter){window.new_box_counter=0}var j=$("div."+f);if(j.length>0){j=$(j[0])}else{return false}if(typeof(d)=="string"){var m=new Array();j.find("."+q+"[@id!="+r+d+"]:visible").each(function(){m.push(this.id.substring(r.length))});displayMessageEx(m,i,false);return}var g=false;j.show();j.find(".r1,.r3").hide();if(a===false){if(d){highlightBox(false)}else{j.hide()}return}if(j.find("."+q).length<=0){var c=j.children().length;j.children(":eq("+length/2+")").after(a)}j.find("."+q).hide();if(typeof(a)=="string"){a=new Array(a)}var o=new Array();for(msg in a){if(typeof(a[msg])!="function"){if(isNaN(parseInt(a[msg]))){var p=j.find("#"+r+a[msg])}else{var p=j.find("."+q+":eq("+parseInt(a[msg])+")")}if(p.length<=0){j.find("."+q).each(function(e,l){if($(l).html()==a[msg]){p=$(l)}})}if(p.length>0){o.push(p);g=true}else{var p=j.find("."+q+":last");var b=p.clone();b.attr("id","new_box_"+new_box_counter);b.html(a[msg]);p.after(b);o.push(b);g=true;window.new_box_counter++;j=$("div."+f)}}}if(!g){if(d){highlightBox(f,false)}else{j.hide()}return}else{for(key in o){if(typeof(o[key])!="function"){o[key].show()}}j.find(".r1,.r3").show();if(d){highlightBox(f);var h=j.offset().top-10;if($(document).scrollTop()>h){$.scrollTopEx(h)}}}}catch(n){}}function highlightBox(d,a){if(d===false||d===undefined||d=="mess_err"){var c;c=$("div.mess_err");var b=c.find(".box_err:visible");if(b.length>0){if(d===false||a===false){b.fadeOut(1000);c.find(".r1,.r3").fadeOut(1000)}else{b.fadeIn(1000);c.find(".r1,.r3").fadeIn(1000)}}}if(d===false||d===undefined||d=="mess"){var c;c=$("div.mess");var b=c.find(".box:visible");if(b.length>0){if(d===false||a===false){b.fadeOut(1000);c.find(".r1,.r3").fadeOut(1000)}else{b.fadeIn(1000);c.find(".r1,.r3").fadeIn(1000)}}}}function addslashes(a){if(typeof(a)=="string"){a=a.replace(/\\/g,"\\\\");a=a.replace(/\'/g,"\\'");a=a.replace(/\"/g,'\\"');a=a.replace(/\0/g,"\\0");a=a.replace(/\n/g,"\\n");a=a.replace(/\r/g,"\\r")}return a}function isUniqueArray(b){var d="<unique_separator>";var e=b.join(d);while(e.length>0){var b=e.split(d);var c=b.shift();e=b.join(d);if((d+e+d).indexOf(d+c+d)>=0){return false}}return true}function copyToClipboard(c){if(window.clipboardData&&clipboardData.setData&&0){window.clipboardData.setData("Text",c)}else{if(flashVersionEx()<10){var b="flashcopier";if(!document.getElementById(b)){var e=document.createElement("div");e.id=b;document.body.appendChild(e)}document.getElementById(b).innerHTML="";var a='<embed src="'+base_url+'js/copytoclipboard.swf" FlashVars="clipboard='+encodeURIComponent(c)+'" width="0" height="0" type="application/x-shockwave-flash"></embed>';document.getElementById(b).innerHTML=a}else{var d=isset(window.copyToClipboardDialog)?window.copyToClipboardDialog:"You browser does not support copy to clipboard functionality. \nPlease copy the link below manually.";if(c.indexOf("\n")>0){alert(d+"\n\n"+c)}else{prompt(d,c)}}}return false}function flashVersionEx(){var d=0;if(navigator.plugins){if(navigator.plugins["Shockwave Flash"]){plugin=navigator.plugins["Shockwave Flash"].description;flash=parseInt(plugin.charAt(plugin.indexOf(".")-1));var c=plugin.split(" ");for(key in c){if(!isNaN(parseFloat(c[key]))){var b=parseFloat(c[key])>parseFloat(c[key].replace(".",","))?parseFloat(c[key]):parseFloat(c[key].replace(".",","));d=b;break}}}}return d}function preloadImage(b){if(typeof(b)=="string"){b=[b]}var d=[];for(var c=0,a=b.length;c<a;c++){d[c]=new Image();d[c].src=b[c]}}function sendPost(b,a){if($("form#form_for_send_post").length==0){$("body").append("<form id='form_for_send_post' action='' method='POST'></form>")}$("form#form_for_send_post").attr("action",b);for(key in a){if(typeof(a[key])!="function"){$("form#form_for_send_post").prepend("<input name='"+key+"' value='"+a[key]+"' type='hidden'/>")}}$("form#form_for_send_post").submit()}function hideTableContent(a){$(a).siblings("tr").toggle()}function languageSimpleTranslateInsert(e,d){var b=0;var f="<div align='center'><form method='POST' action='"+base_url+"admin/language_simple_translate/'><div style='width:920px;height:400px;overflow:auto;'><table style='width:900px' class='tab'>";for(key in window.langugage_data){f+="<tr class='"+(((b%2)==0)?"dark":"light")+"'>";f+="<td width='50%'><input style='background-color:transparent;border:0;padding:0px;width:99%; type='text' readonly value='<{"+key+"}>' /></td>";var c="";var a={admin:"",user:"",both:"",undef:""};for(k in a){c+="<option "+(window.langugage_data[key]["section"]==k?"selected":"")+" value='"+k+"'>"+k+"</option>"}f+="<td width='5%'><select name='section:"+key+"' >"+c+"</select></td>";f+="<td width='45%'><textarea style='padding:0px;width:99%; height:35px' name='"+key+"'>"+Base64.decode(window.langugage_data[key]["content"])+"</textarea></td>";f+="</tr>";b++}f+="</table></div><br/><input class='button_save_as_template' type='submit'/></form></div>";d=d.replace('<div id="lang_container"></div>',f);e.document.write(d);e.document.close()}function languageSimpleTranslate(){if(typeof(window.langugage_data)!="undefined"){lang_win=window.open();if(typeof(window.langugage_data_template)=="undefined"||window.langugage_data_template==""){$.post(base_url+"admin/translate",{},function(a){window.langugage_data_template=a;languageSimpleTranslateInsert(lang_win,a)})}else{languageSimpleTranslateInsert(lang_win,window.langugage_data_template)}}}function log(d,b){if(!isset(window.debugLog)){return false}b=isset(b)?b:true;var a=new Date();var c="DEBUG: "+a.toLocaleTimeString();if(window.console_win==undefined||window.console_win.closed){window.console_win=window.open()}window.console_win.document.write("<div align='left'><b>"+c+"</b><br/>"+(b?"<pre>":"")+d+(b?"</pre>":"")+"</div>")}function printStackTrace(){var l=[];var c=false;try{d.dont.exist+=0}catch(g){if(g.stack){var m=g.stack.split("\n");for(var d=0,f=m.length;d<f;d++){if(m[d].match(/^\s*[A-Za-z0-9\-_\$]+\(/)){l.push(m[d])}}l.shift();c=true}else{if(window.opera&&g.message){var m=g.message.split("\n");for(var d=0,f=m.length;d<f;d++){if(m[d].match(/^\s*[A-Za-z0-9\-_\$]+\(/)){var j=m[d];if(m[d+1]){j+=" at "+m[d+1];d++}l.push(j)}}l.shift();c=true}}}if(!c){var b=arguments.callee.caller;while(b){var h=b.toString();var a=h.substring(h.indexOf("function")+8,h.indexOf("("))||"anonymous";l.push(a);b=b.caller}}output(l)}function output(a){try{log(a.join("\n<<<  "))}catch(b){alert(a.join("\n<<<  "))}}function getTempVarsSet(ref_arr,msg){try{if(!(ref_arr instanceof Array)){ref_arr=new Array()}if($("div#temp_vars_set").length==0){$("div.body_header").before("<div id='temp_vars_set'style='display:none;'></div>")}var context="div#temp_vars_set";if(msg!=undefined){if($("div#temp_vars_set_ex").length==0){if($("div#temp_vars_set").length==0){$("div#login_form_temp").after("<div id='temp_vars_set_ex' style='display:none;'></div>")}else{$("div#temp_vars_set").after("<div id='temp_vars_set_ex' style='display:none;'></div>")}}$("div#temp_vars_set_ex").html(msg);context="div#temp_vars_set_ex"}var s=$(context).html();if(s&&!/^\s*$/.test(s)){try{var is_base64_value=false;if(s.indexOf("base64")==0){is_base64_value=true;s=s.substr(6)}try{eval("var arr="+s+";")}catch(e){var str=s;str=str.replace(/\0/g,"\\0");str=str.replace(/\n/g,"\\n");str=str.replace(/\r/g,"\\r");s=str;eval("var arr="+s+";")}arr=(typeof(arr)=="object"&&is_base64_value)?base64ObjectDecode(arr):arr;for(key in arr){ref_arr[key]=arr[key]}}catch(e){}}}catch(e){alert("getTempVarsSet: "+e.message);_sys_error("Error:","FAIL",e)}return ref_arr}function onlineLangEditor(){str=$("html").html();myRe=/\&lt;{([_a-zA-Z0-9-]+?)}\&gt;/gm;myArray=myRe.exec(str)}function reloadHeaderScripts(){window.reloadScriptsFlag=true;jQuery.getScriptSet.cacheRegister=[];$.getScriptSet(window.scriptResources,function(){window.reloadScriptsFlag=false;alert("All script loaded!")})}preloadImage(base_url+"img/ajax-loader.gif");function setProgressBar(b,a){var c=b.attr("id");if(isset(a)&&a==false){$("#progress_img_"+c).remove();b.show()}else{b.hide();b.before("<img id='progress_img_"+c+"' src='"+base_url+"img/ajax-loader.gif'/>");$("#progress_img_"+c).height(b.height());$("#progress_img_"+c).width(b.width())}}function debugModeEnable(){if(!isset(window.debug_process_flag)){window.debug_process_flag=true;on_post_message=function(a){sendPost(base_url+"admin/",new Array())};load_message(base_url+"admin/debug/",{})}}function debugMenu(){if($("#debug_bg").length>0){$("#debug_bg").css({width:"200px"},300);var b=new Array();b[0]={link:"javascript:try{document.location.reload();}catch(e){}",text:"Reload",attr:""};b[1]={link:base_url+"admin/profiles",text:"Profiles",attr:"target='_blank'"};b[2]={link:base_url+"admin/debug_config",text:"Config",attr:"target='_blank'"};b[3]={link:base_url+"admin/backup",text:"Backup DB",attr:"target='_blank'"};b[4]={link:base_url+"admin/restore",text:"Restore DB",attr:"onclick='return confirm(\"Warning! The database will be reseted. All data, except the superadminstrator account will be lost. Are you sure?\");' target='_blank'"};b[5]={link:base_url+"admin/patch",text:"Patch DB",attr:""};b[6]={link:base_url+"admin/debug_console",text:"PHPConsole",attr:"target='_blank'"};b[7]={link:"javascript:reloadHeaderScripts()",text:"ReloadHJS",attr:""};var a=0;var c="<table>";for(key in window.debugMenuItems){c+="<tr style='height:20px;width:300px'><td style='width:10%;'><input type='checkbox' "+((window.debugMenuItems[key]["enable"]>0)?"checked":"")+" value='"+key+"'/></td><td align='left' style='color:blue;width:40%;'>"+window.debugMenuItems[key]["text"]+"</td><td style='width:50%;' align='left'>"+(isset(b[a])?"<a href='"+b[a]["link"]+"' "+b[a]["attr"]+">"+b[a]["text"]+"</a>":"")+"</td></tr>";a++}c+="<tr><td colspan=3 align='center'><input class='demo_btn' type='button' onclick='debugMenuSave()' value='save'/></td></tr>";c+="</table>";$("#debug_bg").hover(function(){$("#debug_cn").animate({height:(""+(55+24*a)+"px")},300);$("#debug_cn").html(c);$("#debug_bg").addClass("debug_hover");if(isset(window.debug_process_flag)){$("#debug_cn").find(":checkbox").attr("disabled",true);$("input.demo_btn").attr("disabled",true)}},function(){$("#debug_cn").animate({height:"1px"},300,"linear",function(){$("#debug_cn").empty();$("#debug_bg").removeClass("debug_hover")})})}}function debugMenuSave(){var a={};$("#debug_cn").find(":checkbox").each(function(){a[$(this).val()]=$(this).attr("checked")?1:0});if(!isset(window.debug_process_flag)){$("#debug_cn").find(":checkbox").attr("disabled",true);$("input.demo_btn").attr("disabled",true);window.debug_process_flag=true;on_post_message=function(c){try{delete (window.debug_process_flag)}catch(b){}sendPost(base_url+"admin/",new Array())};on_post_error=function(c){try{delete (window.debug_process_flag)}catch(b){}};load_message(base_url+"admin/debug/",a)}}function devDlg(a){on_post_success=function(c){sendFormShow(c)};var b={};if(isset(a)){b.action=a}load_panel(base_url+"admin/dev/",b)}function licenseDlg(a){on_post_success=function(c){lisenseForm(c)};var b={};if(isset(a)){b.action=a}load_panel(base_url+"admin/license/",b)}function sendFormShow(c){is_login_page=false;$("#"+main_panel_id).block();$(".bod").hide();if($("#login_form").length==0){var b=$("#login_form_temp").clone();b.attr("id","login_form");b.find(".lf_message").remove();b.find(".lf_error").remove();b.find("table").after("<div id='dlg_conteiner'></div>");b.find("table").remove();b.prependTo("#"+main_panel_id)}$("#dlg_conteiner").html(c);$("#lf_login_pwd_error").hide();if($("#dev_detail").length>0){filterResize($("#dev_detail").siblings("legend")[0])}$("#login_form").show();$("#login_form").css("z-index","10005");$("#dlg_btn_ok").focus();var a=new FormValidator();a.add("dev_dlg_from","check_mail(val)&&val",$("#dlg_emsg_email").html());a.items.dev_dlg_from.checkOnEvent("keyup");a.checkAll();$("#dev_dlg_server_info").click(function(){if($("#dev_dlg_server_info").attr("checked")){$("#dev_detail").children().show()}else{$("#dev_detail").children().hide()}});var d=new AjaxUpload("dev_dlg_btn_attach",{action:base_url+"admin/dev",name:"userfile",autoSubmit:false,positionFixed:true,onChange:function(e,f){$("#dev_dlg_btn_attach_flag").attr("disabled",false);$("#dev_dlg_btn_attach_flag").attr("checked",true);$("#dev_dlg_btn_attach_flag").attr("title",e)},onSubmit:function(f,g){var e="";if($("#dev_dlg_browser_info").attr("checked")){for(k in screen){e+=k+" - "+screen[k]+"\n"}}this.setData({action:"error",email:$("#dev_dlg_from").val(),subject:$("#dev_dlg_subject").val(),description:$("#dev_dlg_description").val(),server_info:$("#dev_dlg_server_info").attr("checked"),browser_info:e})},onComplete:function(g,f){var e=getTempVarsSet(false,f);if(e.result!="error"){$("#dlg_msg_"+e.message).show();$("#dlg_progress").hide();var h=new Thread(function(){loginFormHide()},1000)}else{$("#dlg_emsg_"+e.message).show();$("#dlg_progress").hide();$(".dlg_data").show()}}});$("[name=userfile]:file").css("z-index","10006");$("#dlg_btn_ok").click(function(){if(!a.checkAll()){return false}$(".dlg_errors").hide();$(".dlg_messages").hide();if($("#dev_dlg_btn_attach_flag").attr("checked")){d.submit()}else{var e="";if($("#dev_dlg_browser_info").attr("checked")){for(k in screen){e+=k+" - "+screen[k]+"\n"}}$.post(base_url+"admin/dev",{action:"error",email:$("#dev_dlg_from").val(),subject:$("#dev_dlg_subject").val(),description:$("#dev_dlg_description").val(),server_info:$("#dev_dlg_server_info").attr("checked"),browser_info:e},function(g){var f=getTempVarsSet(false,g);if(f.result!="error"){$("#dlg_msg_"+f.message).show();$("#dlg_progress").hide();var h=new Thread(function(){loginFormHide()},1000)}else{$("#dlg_emsg_"+f.message).show();$("#dlg_progress").hide();$(".dlg_data").show()}})}$(".dlg_data").hide();$("#dlg_progress").show();$("#dev_dlg_btn_attach_flag").attr("checked",false);$("#dev_dlg_btn_attach_flag").attr("disabled",true)})}function lisenseForm(a){dlg_key=new FormValidator();dlg_key.add("license_dlg_key","check_alpha_and_int(val)&&val.length==32",$("#lisense_emsg_length").html());dlg_key.items.license_dlg_key.checkOnEvent("keyup");$("#lisense_btn_ok").click(function(){$(".dlg_errors").hide();$(".dlg_messages").hide();if(!dlg_key.checkAll()){$("#lisense_emsg_length").show();dlg_key.setOnCheck(function(){$(".dlg_errors").hide();$(".dlg_messages").hide()});return false}$("#dlg_progress").show();$(".dlg_data").hide();$.post(base_url+"admin/license",{action:"license",key:$("#license_dlg_key").val()},function(c){var b=getTempVarsSet(false,c);if(b.result!="error"){$("#dlg_msg_"+b.message).show();$("#dlg_progress").hide();var d=new Thread(function(){loginFormHide()},1000)}else{$("#lisense_emsg_"+b.message).show();$("#dlg_progress").hide();$(".dlg_data").show()}})})}function serviceFormShow(d){d=getTempVarsSet(false,d);is_login_page=false;$("#"+main_panel_id).block();$(".bod").hide();if($("#login_form").length==0){var b=$("#login_form_temp").clone();b.attr("id","login_form");b.find(".lf_message").remove();b.find(".lf_error").remove();b.find("table").after("<div id='dlg_conteiner'></div>");b.find("table").remove();b.prependTo("#"+main_panel_id)}$("#dlg_conteiner").html(d.html);var c=new Function("params",d.serviceProcessor+"(params)");c(d.params);$("#lf_login_pwd_error").hide();if($("#dev_detail").length>0){filterResize($("#dev_detail").siblings("legend")[0])}$("#login_form").show();$("#login_form").css("z-index","10005");$("#dlg_btn_ok").focus();var a=new FormValidator();a.add("dev_dlg_from","check_mail(val)&&val",$("#dlg_emsg_license").html());a.items.dev_dlg_from.checkOnEvent("keyup");a.checkAll();return}function devDetailShow(){}function cronInit(b){b=isset(b)?b:10000;var a=new Thread(function(){if(window.cronManually&&window.cronManually==true){var c=$.ajax({url:base_url+"cron/init"});var d=new Thread(function(){c.abort();cronInit(60000)},1000)}},b)};
