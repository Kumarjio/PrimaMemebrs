var tmp_login=null;var tmp_email=null;var valid_login=false;var valid_email=false;var email_available=false;var email_not_valid=false;var password_valid=false;var password_match=false;var add_fields_error=0;var doSubmit=false;var add_fields_validator=null;$(document).ready(function(){if($("#demo_timer").length>0){$("#demo_timer").timerAnimate()}if(document.location.href.split("/user/").length>1){add_fields_validator=new FormValidator();add_fields_validator.scan();var a=document.location.href.split("/user/")[1].split("/")[0];page_on_load(a)}if(!$("#user_registration_tos").attr("checked")){$("#user_registration_submit_button").attr("disabled",true)}});function page_on_load(a){}function user_registration_last_error(){var a=0;if(!valid_login){a++}if(!valid_email){a++}if(trim($("#user_registration_fname").val())==""||trim($("#user_registration_lname").val())==""){a++}if(!$("#user_registration_tos").attr("checked")){a++}if(!trim($("#user_registration_capcha").val())){a++}if(parseInt($("#user_registration_member_force_pwd_gen").val())<=0){if(!$("#user_registration_generate_password").attr("checked")){if(!password_valid||!password_match){a++}else{$("#user_registration_error_password_not_match").hide();$("#user_registration_error_password").hide()}}}if(a>0||add_fields_error>0){return false}else{$("#user_registration_error_php_area").hide();$("#user_registration_error_area").hide();return true}}function user_registration_submit(a){var b=0;add_fields_error=0;$("#user_registration_error_php_area").hide();$("#user_registration_error_area").hide();$("#user_registration_error_login").hide();$("#user_registration_error_email").hide();$("#user_registration_error_fname").hide();$("#user_registration_error_lname").hide();$("#user_registration_error_password").hide();$("#user_registration_add_fields_error_area").hide();if(user_registration_etalon_login==$("#user_registration_login").val()&&user_registration_login_ok>0){}if($("input#user_registration_login").parents("tr").is(":hidden")){valid_login=true}if(user_registration_etalon_email==$("#user_registration_email").val()&&user_registration_email_ok>0){valid_email=true;email_available=true;email_not_valid=false}if(!valid_login){if((tmp_login==""||tmp_login==null)&&trim($("#user_registration_login").val())!=""&&check_login($("#user_registration_login").val())){doSubmit=true;user_registration_check_login($("#user_registration_login").val())}}if(!valid_login){$("#user_registration_error_area").show();$("#user_registration_error_login").show();b++}if(!valid_email){if((tmp_email==""||tmp_email==null)&&trim($("#user_registration_email").val())!=""&&check_mail($("#user_registration_email").val())){doSubmit=true;email_not_valid=false;user_registration_check_email($("#user_registration_email").val())}}if(!valid_email){$("#user_registration_error_area").show();$("#user_registration_error_email").show();$("#user_registration_email_exists_error").hide();$("#user_registration_email_not_valid_error").hide();if(!email_available&&$("#user_registration_email").val()!=""){$("#user_registration_email_not_valid_error").hide();$("#user_registration_email_exists_error").show()}if(email_not_valid){$("#user_registration_email_exists_error").hide();$("#user_registration_email_not_valid_error").show()}b++}if(trim($("#user_registration_fname").val())==""){$("#user_registration_error_area").show();$("#user_registration_error_fname").show();b++}if(trim($("#user_registration_lname").val())==""){$("#user_registration_error_area").show();$("#user_registration_error_lname").show();b++}if(parseInt($("#user_registration_member_force_pwd_gen").val())<=0){if(!$("#user_registration_generate_password").attr("checked")){if(!password_valid||!password_match){$("#user_registration_error_area").show();$("#user_registration_error_password").show();b++}}}if(!add_fields_validator.checkAll()){$("#user_registration_add_fields_error_area").show();b++;$("#user_registration_error_area").show()}else{user_registration_last_error()}if(!$("#user_registration_tos").attr("checked")){$("#user_registration_error_area").show();$("#user_registration_error_tos").show();$("#user_registration_tos_not_accept_error").show();b++}if(!trim($("#user_registration_capcha").val())){$("#user_registration_error_area").show();$("#user_registration_error_capcha").show();$("#user_registration_capcha_error").show();b++}if(b>0){doSubmit=true;return false}else{if(a=="1"){return false}else{$("#user_registration_form").submit();return false}}return false}function user_registration_check_tos(){if(!$("#user_registration_tos").attr("checked")){$("#user_registration_tos_not_accept_error").show();$("#user_registration_submit_button").attr("disabled",true)}else{$("#user_registration_error_tos").hide();$("#user_registration_tos_not_accept_error").hide();if(user_registration_last_error()){$("#user_registration_error_area").hide()}$("#user_registration_submit_button").attr("disabled",false)}return true}function user_registration_after_check_login(a){if(a){$("#user_registration_error_php_area").hide();$("#user_registration_login_exists_error").hide();$("#user_registration_error_login").hide();valid_login=true;var b=user_registration_last_error();if(doSubmit&&b){$("#user_registration_form").submit()}return true}else{$("#user_registration_error_php_area").hide();$("#user_registration_login_exists_error").show();valid_login=false;doSubmit=false;return false}}function user_registration_check_login(a){$("#user_registration_login").val(trim($("#user_registration_login").val()));if(user_registration_etalon_login==$("#user_registration_login").val()&&user_registration_login_ok>0){return true}if(tmp_login==$("#user_registration_login").val()){return false}tmp_login=$("#user_registration_login").val();if(trim(a)==""){$("#user_registration_login_exists_error").hide();$("#user_registration_login_not_valid_error").hide();valid_login=false;return false}if(!check_login(a)){$("#user_registration_login_not_valid_error").show();valid_login=false;return false}else{$("#user_registration_login_not_valid_error").hide()}after_login_available_check=user_registration_after_check_login;check_available_login(a);return false}function user_registration_check_password2(a){$("#user_registration_error_php_area").hide();$("#user_registration_password_not_match").hide();$("#user_registration_password_is_match").hide();if(a==""){password_match=false;return false}if(a!=$("#user_registration_password").val()){$("#user_registration_password_not_match").show();password_match=false}else{$("#user_registration_password_is_match").show();password_match=true;user_registration_last_error()}}function user_registration_check_password(b){user_registration_check_password2($("#user_registration_password2").val());$("#user_registration_error_php_area").hide();$("#user_registration_password_protection0").hide();$("#user_registration_password_protection3").hide();$("#user_registration_password_protection4").hide();$("#user_registration_password_protection5").hide();if(b==""){password_valid=false;return false}var a=0;a=check_user_pwd(b);if(a<=2){$("#user_registration_password_protection0").show();password_valid=false;return false}if(a==3){$("#user_registration_password_protection3").show();password_valid=true;user_registration_last_error();return true}if(a==4){$("#user_registration_password_protection4").show();password_valid=true;user_registration_last_error();return true}if(a==5){$("#user_registration_password_protection5").show();password_valid=true;user_registration_last_error();return true}return false}function user_registration_generate_password_set(){if($("#user_registration_generate_password").attr("checked")){$("#user_registration_password_area1").css("visibility","hidden");$("#user_registration_password_area2").css("visibility","hidden");$("#user_registration_error_password").hide();$("#user_registration_error_password_not_match").hide();user_registration_last_error()}else{$("#user_registration_password_area1").show();$("#user_registration_password_area2").show();$("#user_registration_password_area1").css("visibility","visible");$("#user_registration_password_area2").css("visibility","visible")}}function user_registration_after_check_email(a){if(a){$("#user_registration_error_php_area").hide();$("#user_registration_email_exists_error").hide();$("#user_registration_error_email").hide();valid_email=true;email_available=true;var b=user_registration_last_error();if(doSubmit&&b){$("#user_registration_form").submit()}return true}else{$("#user_registration_error_php_area").hide();$("#user_registration_email_exists_error").show();valid_email=false;email_available=false;doSubmit=false;return false}}function user_registration_check_email(a){$("#user_registration_email_exists_error").hide();$("#user_registration_email_not_valid_error").hide();if(user_registration_etalon_email==$("#user_registration_email").val()&&user_registration_email_ok>0){return true}if(trim(a)==""){valid_email=false;email_not_valid=true;return false}if(!check_mail($("#user_registration_email").val())){$("#user_registration_email_not_valid_error").show();valid_email=false;email_not_valid=true;tmp_email="";return false}else{email_not_valid=false}$("#user_registration_email").val(trim($("#user_registration_email").val()));if(tmp_email==$("#user_registration_email").val()){if(!email_available){$("#user_registration_email_not_valid_error").hide();$("#user_registration_email_exists_error").show()}if(email_not_valid){$("#user_registration_email_exists_error").hide();$("#user_registration_email_not_valid_error").show()}return false}tmp_email=$("#user_registration_email").val();if(trim(a)==""){$("#user_registration_email_exists_error").hide();valid_email=false;return false}after_email_available_check=user_registration_after_check_email;check_available_email(a,"1");return false};
