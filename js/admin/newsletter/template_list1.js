function email_template_list(b){try{if(b){$.each(b,function(d,e){if(d=="ppage"&&!isNaN(e)){per_page=e;current_page=1}else{if(d=="cpage"){current_page=(e>0)?e:1}else{if(d=="ord"){sort_by=e;sort_how=(sort_how=="asc")?"desc":"asc"}}}return})}var c={cpage:current_page,ppage:per_page,ord:sort_by,ord_type:sort_how};moveSlideTab(4,1,"email_templates");load_panel(base_url+"newsletter/template_list",c)}catch(a){_sys_error("template_list:email_template_list","Generates email templates list",a)}}function after_delete_email_template_success(c){_error_panel_hide();msg=c;after_panel_load=after_panel_loaded;try{var b={cpage:current_page,ppage:per_page,ord:sort_by,ord_type:sort_how};load_panel(base_url+"newsletter/template_list",b)}catch(a){_sys_error("template_list:after_delete_email_template_success","Shows  email templates list",a)}}function after_delete_email_template_error(a){_msg_panel_hide();if(a!=""){_error_panel_show(a)}}function add_email_template(){try{document.location.hash=document.location.hash+"/add";load_panel(base_url+"newsletter/template_add")}catch(a){_sys_error("template_list:add_email_template","Checks email template id before delete",a)}}function delete_email_template(c){try{if(parseInt(c)>0){var a=$("#delete_question").text();if(confirm(a)){var d={id:c};on_post_success=after_delete_email_template_success;on_post_error=after_delete_email_template_error;load_panel(base_url+"newsletter/template_remove",d)}}}catch(b){_sys_error("template_list:delete_email_template","Checks email template id before delete",b)}};
