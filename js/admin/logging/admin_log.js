var validator;function myPanelOnLoad(){try{validator=new FormValidator();temp_vars_set=getTempVarsSet(temp_vars_set);validator.add("date_a","check_date(val)||!val");validator.items.date_a.checkOnEvent("keyup");validator.items.date_a.checkOnEvent("focus");validator.add("date_b","check_date(val)||!val");validator.items.date_b.checkOnEvent("keyup");validator.items.date_b.checkOnEvent("focus");validator.checkAll()}catch(a){alert("myTabOnLoad: "+a.message);_sys_error("Error:","FAIL",a)}}function myPagerHandler(h,a){try{var d=new Array();var c=validator.checkAll();if(!c){displayMessageEx(temp_vars_set.ValidationError,true);validator.setOnCheck(errorBoxControl)}else{if(a!=true){var b=validator.getItems();d.push(b.date_a);d.push(b.date_b);d.push($("#frm_person").val());d.push($("#frm_action").val());h["filter[]"]=d}var f="logging/admin";if(temp_vars_set.is_admin!="true"){f="logging/protect"}load_panel(base_url+f,h,{"0":base_url+"js/admin/init.js"})}}catch(g){_sys_error("myPagerHandler:","FAIL",g)}}var filter=new Array();function setFilter(a){params=getPagerParams();myPagerHandler(params,a)}function myPanelDestructor(){validator=null}function after_save(b){var a=getTempVarsSet(false,b);displayMessageEx(a)}function save_error(b){var a=getTempVarsSet(false,b);displayMessageEx(a,true)}function recDelete(a){if(confirm(temp_vars_set.deleteText)){params=getPagerParams();params.action="delete";params.id=a;on_post_error=save_error;additional_accept=after_save;myPagerHandler(params,false)}}function errorBoxControl(){try{var b=false;for(key in validator.items){if(typeof(validator.items[key])!="function"){b=validator.items[key].error.is_error?true:b}}if(!b){displayMessageEx(false,true);validator.setOnCheck()}}catch(a){alert("errorBoxControl: "+a.message)}};
