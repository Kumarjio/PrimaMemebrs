function selectEx(){$("body").append("<div id='selectEx' class='select_ex_div'><div value='txt'>txt</div><div value='png'>png</div></div>");$("input:text").keypress(function(a){if(a.keyCode==13){$.post(base_url+"admin/selector",{filter:$(this).val()},function(d){var b=getTempVarsSet(false,d);var c="";for(key in b){c+="<div value='"+key+"'>"+b[key]+"</div>"}$("#selectEx").html(c)});return false}});$("input:text").click(function(){$(this).after("<div id='selectExDiv'></div>");$("#selectExDiv").append($(this));var a=$("#selectExDiv").offset();a.height=$("#selectExDiv").height();a.width=$(this).width();a.top=a.top+a.height;$("#selectExDiv").before($(this));$("#selectExDiv").remove();$("#selectEx").css({top:a.top,left:a.left});$("#selectEx").width(a.width);$("#selectEx").find("div").hover(function(){$(this).addClass("select_ex_option")},function(){$(this).removeClass("select_ex_option")});$("#selectEx").show();$(this).focus()});$("input:text").blur(function(){$("#selectEx").hide()})}var temp_vars_set=new Array();function myOnLoadTesting(){}function fieldLangsEdit(a,e,b){if(b&&!confirm(b)){return}switch(parseInt(a)){case 2:break;case 4:break;case 6:break;case 8:break;case 9:break;case 11:break;case 12:break;case 13:break;case 14:break;case 15:break;case 10:var c={};if(typeof(current_page)!="undefined"){c.cpage=current_page}if(typeof(per_page)!="undefined"){c.ppage=per_page}if(typeof(sort_by)!="undefined"){c.ord=sort_by}if(typeof(sort_how)!="undefined"){c.ord_type=sort_how}setPagerParams(c);break;default:setPagerParams({order_by:order_by,sort_by:sort_by,page:page,per_page:per_page});break}var d={action:""};d.object_type=a;if(typeof(e)=="object"){d.template_name=parseInt(e.id);d.sid=e.sid;d.id=e=parseInt(e.id)}else{d.id=parseInt(e);d.template_name=parseInt(e)}d.referer=document.location.hash.substr(1);document.location.hash=document.location.hash+"/"+a+"/"+e+"/lang_edit";load_panel(base_url+"lang_manager/edit/",d,{"0":base_url+"js/admin/init.js"})}function base64ObjectDecode(a){for(key in a){if(typeof(a[key])=="object"){a[key]=base64ObjectDecode(a[key])}else{a[key]=Base64.decode(a[key])}}return a}function pagerHandler(c,f){try{if(temp_vars_set.pager==undefined&&window.my_pager!=undefined){temp_vars_set.pager=window.my_pager}if(f){c=temp_vars_set.pager;if(c.ccol!=f){c.ccol=f;c.csort="asc"}else{c.csort=c.csort=="asc"?"desc":"asc"}}if(c.ppage!=temp_vars_set.pager["ppage"]){c.cpage=1}var a=new Array();for(key in c){if(typeof(c[key])!="function"){a.push(c[key])}}var d={action:""};d["pager[]"]=a;panel_no_scroll="one";myPagerHandler(d)}catch(b){_sys_error("Error(pagerHandler):","FAIL",b)}return false}function setPagerParams(c){var a=0;var b=true;for(key in c){if(c[key]){b=false}if(c[key]===undefined){delete (c[key])}a++}if(a>0){window.my_multi_pager=window.my_multi_pager?window.my_multi_pager:{};if(window.my_multi_pager[document.location.hash.substr(1)]&&b){return}window.my_multi_pager[document.location.hash.substr(1)]=c}}function getPagerParams(f){try{var a={};if(f){if(window.my_multi_pager&&window.my_multi_pager[f]){a=window.my_multi_pager[f]}else{return null}}else{a=window.my_pager}if(typeof(a)!="object"){a={}}if(typeof(a.ccol)!="undefined"&&typeof(a.cpage)!="undefined"&&typeof(a.csort)!="undefined"&&typeof(a.ppage)!="undefined"){var b=new Array();var c=0;for(key in a){if(typeof(a[key])!="function"){b[c]=a[key];c++}}var g={action:""};g["pager[]"]=b;return g}else{return a}}catch(d){alert("getPagerParams: "+d.message)}}function initFilter(){var a=$("table.filter");if(a.length>0){filterValidator=new FormValidator();filterValidator.scan("table.filter");filterValidator.checkAll()}}function getFilterParams(e,c){e=isset(e)?e:getPagerParams();var d=$("table.filter");var b=new Array();if(d.length>0){var a=0;d.find(":input").each(function(){if(!$(this).is(":button")){b[a]=$(this).val();a++}});window.my_multi_filter=window.my_multi_filter?window.my_multi_filter:{};window.my_multi_filter[document.location.hash.substr(1)]=b}if(isset(c)&&isset(window.my_multi_filter)&&isset(window.my_multi_filter[c])){b=window.my_multi_filter[c]}if(b.length>0){e["filters[]"]=b}return e}function sortInit(){try{try{var b=false;if($("#pageselect-1").length>0){try{b=$("#pageselect-1").attr("onchange").toString()}catch(d){alert("sortInit_1.1")}}else{if($("input.button_go").length>0){try{b=$("input.button_go").attr("onclick").toString()}catch(d){alert("sortInit_1.2")}}}}catch(d){alert("sortInit_1")}try{if(b!=false){b=b.substr(b.indexOf("pagerHandler"));b=b.substr(b.indexOf("{"));b=b.split(",");b.pop();vars=b.join(",")+"}";var a=getTempVarsSet(false,vars);temp_vars_set.pager=a;window.my_pager=temp_vars_set.pager;setPagerParams(temp_vars_set.pager)}else{var a=false}}catch(d){alert("sortInit_2")}try{if($("tr.glav_big").length>0){var c=$("tr.glav_big").children();$(c).each(function(e,h){var f=$(h).children();if($(f).attr("id")!=undefined&&$(f).is("a")){$(h).css("cursor","pointer");if(a!==false&&((a.ccol==$(f).attr("id"))||(a.ccol==""&&e==0))){temp_vars_set.pager["ccol"]=$(f).attr("id");if($("span#sort_arrow").length==0){$(f).after("<span id='sort_arrow'>&nbsp;&#9650;</span>")}if(temp_vars_set.pager["csort"]=="asc"){$("span#sort_arrow").html("&nbsp;&#9650;")}else{$("span#sort_arrow").html("&nbsp;&#9660;")}}if($(f).attr("id")){var g=document.getElementById($(f).attr("id")).parentNode;if(a!==false){g.onclick=function(){pagerHandler("",$(f).attr("id"));return false}}else{g.onclick=function(){return false}}}}})}}catch(d){alert("sortInit_3")}}catch(d){alert(print_r(d));_sys_error("Error(sortInit):","FAIL",d)}}function myPanelSave(d,h,c){try{var g=getPagerParams();if(c){if(confirm(temp_vars_set.cancelText)){g.action="cancel";load_panel(d,g,{"0":base_url+"js/admin/init.js"})}}else{displayMessageEx();if(!validator.checkAll()){var b=new Array();b.push("validation_fail");displayMessageEx(b,true)}else{g.action="save";g.id=h;var a=validator.getItems();for(key in a){if(typeof(a[key])!="function"){g[key]=a[key]}}on_post_error=panel_save_error;additional_accept=panel_after_save;load_panel(d,g,{"0":base_url+"js/admin/init.js"})}validator.setOnCheck(panelErrorBoxControl)}}catch(f){alert("myPanelSave: "+f.message);_sys_error("Error:","FAIL",f)}}function panel_after_save(b){var a=getTempVarsSet(false,b);displayMessageEx(a)}function panel_save_error(b){var a=getTempVarsSet(false,b);displayMessageEx(a,true)}function panelErrorBoxControl(){try{var b=false;for(key in validator.items){if(typeof(validator.items[key])!="function"){b=validator.items[key].error.is_error?true:b}}if(!b){displayMessageEx(false,true);validator.setOnCheck()}}catch(a){alert("errorBoxControl: "+a.message)}}function myPanelOnLoad(){}function myPanelDestructor(){}function pre_loader(){try{$("div.hidden_png_img").hide();$(".pre_init_hide").hide();if(!window.pre_loader_temp_counter){window.pre_loader_temp_counter=0}window.pre_loader_temp_counter++;if(window.pre_loader_temp_counter==2){window.pre_loader_temp_counter=0;temp_vars_set=getTempVarsSet();if(temp_vars_set.panel_hash!=undefined){var c=hashToMenuId(temp_vars_set.panel_hash);if(c!==false){moveSlideTab(parseInt(c[0]),parseInt(c[1]),temp_vars_set.panel_hash)}}if(temp_vars_set.panel_script!=undefined&&temp_vars_set.panel_script!=""){var b=function(){sortInit();initFilter();myPanelOnLoad();myOnLoadTesting()};if(typeof(temp_vars_set.panel_script)=="string"){temp_vars_set.panel_script={"0":temp_vars_set.panel_script}}if($.browser.opera||isset(window.temp_script_reload)){for(tmp_i in temp_vars_set.panel_script){$.getScript(temp_vars_set.panel_script[tmp_i],b)}}else{for(tmp_i in temp_vars_set.panel_script){getScript(temp_vars_set.panel_script[tmp_i],b)}}}else{sortInit();initFilter();myPanelOnLoad();myOnLoadTesting()}}}catch(d){_sys_error("Error(pre_loader):","FAIL",d)}}function PanelInit(b,a){try{window.pre_loader_temp_counter=0;if(!b){b="table.settings"}if(!a){a="tr.glav_big"}after_panel_load=pre_loader;$(b).ready(function(){pre_loader()});$(a).ready(function(){sortInit()});panel_destructor=function(){myPanelDestructor();loginFormHide();additional_accept=null;on_post_error=null;after_panel_load=null;temp_vars_set=new Array();$(b).ready(function(){});temp_vars_set=new Array();myPanelOnLoad=function(){}}}catch(c){alert("Initialization: "+c.message);_sys_error("Error:","FAIL",c)}};
