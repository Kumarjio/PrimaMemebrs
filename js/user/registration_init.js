var temp_vars_set={};function userPageInit(){if($("input[name=tos]").length<1){$("#registration_submit_button").attr("disabled",false)}try{add_fields_validator=new FormValidator();add_fields_validator.scan();temp_vars_set=window.server.temp_vars_set;styles=new Array();styles[0]="style='color: grey; font-size:xx-small;'";styles[2]="style='color: #FF9900; font-size:xx-small;'";styles[3]="style='color: #FDD72C; font-size:xx-small;'";styles[4]="style='color: #00CC00; font-size:xx-small;'";styles[5]="style='color: green; font-size:xx-small;'";temp_vars_set.styles=styles;validator=new FormValidator();return true;if($("input[name=login]").length>0){validator.add("login","check_login(val)&&val");validator.items.login.checkOnServer(base_url+"user/value_exist/",{},"blur")}if($("input[name=password]").length>0){}if($("input[name=email]").length>0){validator.add("email","check_mail(val)&&val");validator.items.email.checkOnServer(base_url+"user/value_exist/",{},"blur")}if($("input[name=fname]").length>0){validator.add("fname","val");validator.items.fname.checkOnEvent("keyup")}if($("input[name=lname]").length>0){validator.add("lname","val");validator.items.lname.checkOnEvent("keyup")}if($("input[name=image_code]").length>0){validator.add("image_code","val");validator.items.image_code.checkOnEvent("keyup")}if($("input[name=tos]").length>0){validator.add("tos");validator.items.tos.checkOnEvent("click",checkTos)}if($("input[name=generate]").length>0){validator.add("generate");validator.items.generate.checkOnEvent("click",passwordGenerate)}passwordGenerate(true);checkTos();validator.setOnCheck(panelErrorBoxControl)}catch(a){alert("myTabOnLoad: "+a.message);_sys_error("Error:","FAIL",a)}}function myPwdCheck(){if($("input[name=generate]").length<=0||!validator.items.generate.value){var a=check_user_pwd(validator.items.password.value);a=a>2?a:0;validator.items.password.error.is_error=a>2?false:true;validator.items.password.showError(temp_vars_set["password_protection"+a],temp_vars_set.styles[a],validator.items.password.error.is_error);if(!validator.items.password.error.is_error){myPwdRetCheck();$("tr.pwd_ret_block").show();return}}else{validator.items.password.showError(false)}validator.items.password_retype.setValue("");$("tr.pwd_ret_block").hide()}function myPwdRetCheck(){if(!validator.items.generate_password.value){if(validator.items.password.value==validator.items.password2.value){validator.items.password2.showError(temp_vars_set.password_is_match,temp_vars_set.styles[5],false);validator.items.password2.error.is_error=false}else{validator.items.password2.showError(temp_vars_set.password_not_match,temp_vars_set.styles[0],true);validator.items.password2.error.is_error=true}}}function checkTos(){validator.items.tos.check();$("#registration_submit_button").attr("disabled",!validator.items.tos.value);return true}function passwordGenerate(a){validator.items.generate_password.check();if(validator.items.generate_password.value){validator.items.password.setValue("");validator.items.password2.setValue("");validator.items.password.error.is_error=false;validator.items.password2.error.is_error=false;$("tr.pwd_block").hide();$("tr.pwd_ret_block").hide()}else{if(!isset(a)){myPwdCheck()}else{$("tr.pwd_ret_block").hide()}$("tr.pwd_block").show()}}function panelErrorBoxControl(){try{var b=false;for(key in validator.items){if(typeof(validator.items[key])!="function"){b=validator.items[key].error.is_error?true:b}}if(!b){displayMessageEx(false,true);validator.setOnCheck()}}catch(a){alert("errorBoxControl: "+a.message)}}function registrationOnSubmit(){return(validator.checkAll()&&add_fields_validator.checkAll())};
