var deleted_coupon="";var coupons_backlink="";var coupons_sort_by="code";var coupons_sort_how="desc";function show_coupons(a,c){if(a<1){return false}try{if(c){$.each(c,function(e,f){if(e=="ord"){coupons_sort_by=f;coupons_sort_how=(coupons_sort_how=="asc")?"desc":"asc"}else{if(e=="back"){coupons_backlink=f}}return})}var d={id:a,ord:coupons_sort_by,ord_type:coupons_sort_how,back:coupons_backlink};load_panel(base_url+"coupons/show_coupons",d)}catch(b){_sys_error("coupons_list:show_coupons","Generates coupons list",b)}}function after_delete_coupon_success(b){_error_panel_hide();_msg_panel_show(b);try{$("#cid-"+deleted_coupon).hide()}catch(a){_sys_error("coupons_list:after_delete_coupon_success","Hides deleted coupon table row",a)}}function after_delete_coupon_error(a){deleted_coupon="";_msg_panel_hide();if(a!=""){_error_panel_show(a)}}function delete_coupon(d){try{if(d>0){var a=$("#delete_question").text();if(confirm(a)){var c={coupon_id:d};on_post_success=after_delete_coupon_success;on_post_error=after_delete_coupon_error;deleted_coupon=d;load_panel(base_url+"coupons/delete_coup",c)}}}catch(b){_sys_error("coupons_list:delete_coupon","Checks coupons group id before delete",b)}};
